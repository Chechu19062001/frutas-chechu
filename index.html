<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChechuTablas - Tu Asistente de Cultivo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="background-overlay"></div>
    
    <!-- Pantalla de bienvenida para nuevo usuario -->
    <div id="welcomeScreen" class="welcome-screen">
        <div class="welcome-container">
            <div class="welcome-logo">
                <i class="fas fa-cannabis pulse"></i>
                <h1>Chechu<span>tablas</span> <sup>CultivaTuFuturo</sup></h1>
                <p class="slogan">Tu asistente de cultivo personal</p>
            </div>
            
            <div class="welcome-form">
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="usernameInput" placeholder="¿Cómo quieres que te llamemos?">
                </div>
                <button id="startAppBtn" class="btn glow-btn">
                    <i class="fas fa-rocket"></i> EMPEZAR A CULTIVAR
                </button>
            </div>
        </div>
    </div>
    
    <!-- Contenido principal de la app -->
    <div id="appContent" class="hidden">
        <header>
            <div class="header-left">
                <div class="logo-mini">
                    <i class="fas fa-cannabis"></i>
                </div>
                <h1>CHECHU<span>tablas</span> <sup>CultivaTuFuturo</sup></h1>
            </div>
            <div class="header-right">
                <div id="usernameDisplay"></div>
                <button id="publicTablesBtn" class="btn-header">
                    <i class="fas fa-globe"></i> Comunidad
                </button>
                <button id="showSavedTablesBtn" class="btn-header">
                    <i class="fas fa-save"></i> Mis Tablas
                </button>
            </div>
        </header>
        
        <div class="container">
            <!-- Selector de productos -->
            <div class="card product-card">
                <div class="card-header">
                    <h2><i class="fas fa-flask"></i> Crea tu tabla de abonado</h2>
                </div>
                
                <div class="product-selector">
                    <div class="product-category">
                        <h3><i class="fas fa-leaf"></i> Abono Base</h3>
                        <div class="product-options" data-category="abono">
                            <label class="product-option">
                                <input type="radio" name="abono" value="BIO BLOOM">
                                <span class="product-icon"><i class="fas fa-seedling"></i></span>
                                <span>BIO BLOOM</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="abono" value="FLORA NOVA">
                                <span class="product-icon"><i class="fas fa-tint"></i></span>
                                <span>FLORA NOVA</span>
                            </label>
                        </div>
                        <button class="btn-add-custom" data-category="abono">
                            <i class="fas fa-plus-circle"></i> Añadir personalizado
                        </button>
                    </div>
                    
                    <div class="product-category">
                        <h3><i class="fas fa-cookie"></i> Azúcares</h3>
                        <div class="product-options" data-category="azucar">
                            <label class="product-option">
                                <input type="radio" name="azucar" value="TOP CROP">
                                <span class="product-icon"><i class="fas fa-fill-drip"></i></span>
                                <span>TOP CROP</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="azucar" value="BUD CANDY">
                                <span class="product-icon"><i class="fas fa-candy-cane"></i></span>
                                <span>BUD CANDY</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="azucar" value="CARBOLOAD">
                                <span class="product-icon"><i class="fas fa-cookie-bite"></i></span>
                                <span>CARBOLOAD</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="azucar" value="SUGAR SHOT">
                                <span class="product-icon"><i class="fas fa-burn"></i></span>
                                <span>SUGAR SHOT</span>
                            </label>
                        </div>
                        <button class="btn-add-custom" data-category="azucar">
                            <i class="fas fa-plus-circle"></i> Añadir personalizado
                        </button>
                    </div>
                    
                    <div class="product-category">
                        <h3><i class="fas fa-rocket"></i> Estimuladores</h3>
                        <div class="product-options" data-category="estimulador">
                            <label class="product-option">
                                <input type="radio" name="estimulador" value="TOP MAX">
                                <span class="product-icon"><i class="fas fa-bomb"></i></span>
                                <span>TOP MAX</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="estimulador" value="Bloombastic">
                                <span class="product-icon"><i class="fas fa-meteor"></i></span>
                                <span>Bloombastic</span>
                            </label>
                        </div>
                        <button class="btn-add-custom" data-category="estimulador">
                            <i class="fas fa-plus-circle"></i> Añadir personalizado
                        </button>
                    </div>
                    
                    <div class="product-category">
                        <h3><i class="fas fa-expand-arrows-alt"></i> Tamaño</h3>
                        <div class="product-options" data-category="tamano">
                            <label class="product-option">
                                <input type="radio" name="tamano" value="Monster Bloom">
                                <span class="product-icon"><i class="fas fa-arrows-alt-v"></i></span>
                                <span>Monster Bloom</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="tamano" value="Blossom Builder">
                                <span class="product-icon"><i class="fas fa-kaaba"></i></span>
                                <span>Blossom Builder</span>
                            </label>
                        </div>
                        <button class="btn-add-custom" data-category="tamano">
                            <i class="fas fa-plus-circle"></i> Añadir personalizado
                        </button>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="createTableBtn" class="btn glow-btn">
                        <i class="fas fa-magic"></i> GENERAR TABLA
                    </button>
                </div>
            </div>
            
            <!-- Tabla generada -->
            <div id="tableCard" class="card hidden">
                <div class="card-header">
                    <h2><i class="fas fa-table"></i> Tu tabla de abonado</h2>
                </div>
                
                <div class="input-group table-name">
                    <i class="fas fa-tag"></i>
                    <input type="text" id="tableNameInput" placeholder="Nombre de la tabla">
                </div>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Semana 1</th>
                                <th>Semana 2</th>
                                <th>Semana 3</th>
                                <th>Semana 4</th>
                                <th>Semana 5</th>
                                <th>Semana 6</th>
                                <th>Semana 7</th>
                                <th>Semana 8</th>
                                <th>Semana 9</th>
                                <th>Semana 10</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- Se rellena con JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <div class="action-buttons">
                    <button id="saveTableBtn" class="btn btn-save">
                        <i class="fas fa-save"></i> GUARDAR TABLA
                    </button>
                    <button id="shareTableBtn" class="btn btn-share">
                        <i class="fas fa-share-alt"></i> COMPARTIR
                    </button>
                    <button id="createNewTableBtn" class="btn btn-secondary">
                        <i class="fas fa-plus"></i> CREAR NUEVA
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de tablas guardadas -->
    <div id="savedTablesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-save"></i> Mis Tablas de Abonado</h2>
                <span class="close">&times;</span>
            </div>
            <div id="savedTablesList" class="tables-grid">
                <!-- Se rellena con JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- Modal de tabla individual -->
    <div id="viewTableModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="viewTableName">Nombre de la tabla</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-subheader">
                <p>Creada por: <span id="viewTableAuthor">Usuario</span></p>
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Semana 1</th>
                            <th>Semana 2</th>
                            <th>Semana 3</th>
                            <th>Semana 4</th>
                            <th>Semana 5</th>
                            <th>Semana 6</th>
                            <th>Semana 7</th>
                            <th>Semana 8</th>
                            <th>Semana 9</th>
                            <th>Semana 10</th>
                        </tr>
                    </thead>
                    <tbody id="viewTableBody">
                        <!-- Se rellena con JavaScript -->
                    </tbody>
                </table>
            </div>
            <div class="action-buttons">
                <button id="copyToMyTablesBtn" class="btn">
                    <i class="fas fa-copy"></i> COPIAR A MIS TABLAS
                </button>
                <button id="likeTableBtn" class="btn btn-like">
                    <i class="far fa-heart"></i> <span id="likeCount">0</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de edición de tabla -->
    <div id="editTableModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-edit"></i> Editar Tabla</h2>
                <span class="close">&times;</span>
            </div>
            <div class="input-group table-name">
                <i class="fas fa-tag"></i>
                <input type="text" id="editTableNameInput" placeholder="Nombre de la tabla">
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Semana 1</th>
                            <th>Semana 2</th>
                            <th>Semana 3</th>
                            <th>Semana 4</th>
                            <th>Semana 5</th>
                            <th>Semana 6</th>
                            <th>Semana 7</th>
                            <th>Semana 8</th>
                            <th>Semana 9</th>
                            <th>Semana 10</th>
                        </tr>
                    </thead>
                    <tbody id="editTableBody">
                        <!-- Se rellena con JavaScript -->
                    </tbody>
                </table>
            </div>
            <div class="action-buttons">
                <button id="updateTableBtn" class="btn btn-save">
                    <i class="fas fa-check"></i> GUARDAR CAMBIOS
                </button>
                <button id="cancelEditBtn" class="btn btn-secondary">
                    <i class="fas fa-times"></i> CANCELAR
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de tablas públicas -->
    <div id="publicTablesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-globe"></i> Comunidad GanjaGrow</h2>
                <span class="close">&times;</span>
            </div>
            <div class="community-intro">
                <p>Descubre tablas de cultivo compartidas por otros usuarios de la comunidad. Aprende de otros cultivadores y mejora tus cosechas.</p>
            </div>
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" id="searchPublicTables" placeholder="Buscar tablas de cultivo...">
            </div>
            <div class="tables-filter">
                <button class="filter-btn active" data-filter="all">Todas</button>
                <button class="filter-btn" data-filter="popular">Populares</button>
                <button class="filter-btn" data-filter="recent">Recientes</button>
            </div>
            <div id="publicTablesList" class="tables-grid">
                <!-- Se rellena con JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- Modal para compartir tabla -->
    <div id="shareTableModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-share-alt"></i> Compartir con la comunidad</h2>
                <span class="close">&times;</span>
            </div>
            <div class="share-intro">
                <p>¡Comparte tu tabla de cultivo con la comunidad GanjaGrow y ayuda a otros cultivadores!</p>
            </div>
            <div class="input-group">
                <i class="fas fa-comment-alt"></i>
                <textarea id="tableDescription" placeholder="Añade una descripción o comentarios sobre tu tabla..." rows="4"></textarea>
            </div>
            <div class="share-options">
                <label class="checkbox-option">
                    <input type="checkbox" id="allowComments" checked>
                    <span>Permitir comentarios</span>
                </label>
            </div>
            <div class="action-buttons">
                <button id="confirmShareBtn" class="btn btn-share">
                    <i class="fas fa-paper-plane"></i> PUBLICAR TABLA
                </button>
                <button id="cancelShareBtn" class="btn btn-secondary">
                    <i class="fas fa-times"></i> CANCELAR
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal para añadir producto personalizado -->
    <div id="customProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-flask"></i> Añadir Producto Personalizado</h2>
                <span class="close">&times;</span>
            </div>
            <div class="input-group">
                <i class="fas fa-tag"></i>
                <input type="text" id="customProductName" placeholder="Nombre del producto">
                <input type="hidden" id="customProductCategory">
            </div>
            <div class="action-buttons">
                <button id="saveCustomProductBtn" class="btn">
                    <i class="fas fa-plus-circle"></i> AÑADIR PRODUCTO
                </button>
            </div>
        </div>
    </div>
    
    <!-- Notificación -->
    <div id="notification" class="notification">
        <i class="fas fa-info-circle"></i>
        <span id="notificationText">Mensaje de notificación</span>
    </div>
    
    <!-- Loader -->
    <div id="loader" class="loader hidden">
        <div></div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>