<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto Chechu - Trap Edition</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Overlay para el fondo -->
    <div class="background-overlay"></div>
    
    <!-- Pantalla de Login/Registro -->
    <div id="authScreen" class="auth-screen">
        <div class="auth-container">
            <div class="auth-logo">
                <i class="fas fa-cannabis pulse"></i>
                <h1>PROYECTO<span>CHECHU</span></h1>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">LOGIN</button>
                <button class="auth-tab" data-tab="register">REGISTRO</button>
            </div>
            
            <div id="loginForm" class="auth-form active">
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="loginUsername" placeholder="Usuario" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="loginPassword" placeholder="Contraseña" required>
                </div>
                <button id="loginButton" class="btn-auth">ENTRAR <i class="fas fa-arrow-right"></i></button>
            </div>
            
            <div id="registerForm" class="auth-form">
                <div class="input-group">
                    <i class="fas fa-user-plus"></i>
                    <input type="text" id="registerUsername" placeholder="Nuevo Usuario" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="registerPassword" placeholder="Contraseña" required>
                </div>
                <div class="input-group">
                    <i class="fas fa-check-double"></i>
                    <input type="password" id="confirmPassword" placeholder="Confirmar Contraseña" required>
                </div>
                <button id="registerButton" class="btn-auth">REGISTRARSE <i class="fas fa-user-check"></i></button>
            </div>
        </div>
    </div>

    <!-- App Principal -->
    <div id="appContent" class="hidden">
        <header>
            <div class="header-left">
                <i class="fas fa-cannabis pulse"></i>
                <h1>PROYECTO<span>CHECHU</span></h1>
            </div>
            <div class="header-right">
                <span id="usernameDisplay"></span>
                <button id="publicTablesBtn" class="btn-small"><i class="fas fa-globe"></i> PÚBLICO</button>
                <button id="logoutBtn" class="btn-small"><i class="fas fa-sign-out-alt"></i> SALIR</button>
            </div>
        </header>

        <div class="container">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-leaf"></i> SELECCIONA PRODUCTOS</h2>
                </div>
                
                <div class="product-selector">
                    <div class="product-category">
                        <h3><i class="fas fa-flask"></i> ABONO BASE</h3>
                        <div class="product-options" data-category="abono">
                            <label class="product-option">
                                <input type="radio" name="abono" value="Bio Bloom">
                                <span class="product-icon"><i class="fas fa-seedling"></i></span>
                                <span>Bio Bloom</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="abono" value="Flora Nova Lila">
                                <span class="product-icon"><i class="fas fa-vial"></i></span>
                                <span>Flora Nova Lila</span>
                            </label>
                        </div>
                        <button class="btn-add-custom" data-category="abono">+ CUSTOM</button>
                    </div>

                    <div class="product-category">
                        <h3><i class="fas fa-candy-cane"></i> AZÚCARES</h3>
                        <div class="product-options" data-category="azucar">
                            <label class="product-option">
                                <input type="radio" name="azucar" value="Bud Candy">
                                <span class="product-icon"><i class="fas fa-cannabis"></i></span>
                                <span>Bud Candy</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="azucar" value="Carboload">
                                <span class="product-icon"><i class="fas fa-atom"></i></span>
                                <span>Carboload</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="azucar" value="Sugar Shot">
                                <span class="product-icon"><i class="fas fa-tint"></i></span>
                                <span>Sugar Shot</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="azucar" value="Top Candy">
                                <span class="product-icon"><i class="fas fa-certificate"></i></span>
                                <span>Top Candy</span>
                            </label>
                        </div>
                        <button class="btn-add-custom" data-category="azucar">+ CUSTOM</button>
                    </div>

                    <div class="product-category">
                        <h3><i class="fas fa-bolt"></i> ESTIMULADOR</h3>
                        <div class="product-options" data-category="estimulador">
                            <label class="product-option">
                                <input type="radio" name="estimulador" value="Top Max">
                                <span class="product-icon"><i class="fas fa-fire"></i></span>
                                <span>Top Max</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="estimulador" value="Bloombastic">
                                <span class="product-icon"><i class="fas fa-bomb"></i></span>
                                <span>Bloombastic</span>
                            </label>
                        </div>
                        <button class="btn-add-custom" data-category="estimulador">+ CUSTOM</button>
                    </div>

                    <div class="product-category">
                        <h3><i class="fas fa-expand-alt"></i> AUMENTA TAMAÑO</h3>
                        <div class="product-options" data-category="tamano">
                            <label class="product-option">
                                <input type="radio" name="tamano" value="Monster Bloom">
                                <span class="product-icon"><i class="fas fa-skull"></i></span>
                                <span>Monster Bloom</span>
                            </label>
                            <label class="product-option">
                                <input type="radio" name="tamano" value="Blossom Builder">
                                <span class="product-icon"><i class="fas fa-mountain"></i></span>
                                <span>Blossom Builder</span>
                            </label>
                        </div>
                        <button class="btn-add-custom" data-category="tamano">+ CUSTOM</button>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="createTableBtn" class="btn glow-btn">
                        <i class="fas fa-table"></i> CREAR TABLA
                    </button>
                    <button id="showSavedTablesBtn" class="btn">
                        <i class="fas fa-save"></i> MIS TABLAS
                    </button>
                </div>
            </div>

            <div id="tableCard" class="card hidden">
                <div class="card-header">
                    <h2><i class="fas fa-table"></i> TU TABLA DE ABONADO</h2>
                </div>
                <div class="input-group table-name">
                    <i class="fas fa-tag"></i>
                    <input type="text" id="tableNameInput" placeholder="Nombre de tu tabla" required>
                </div>
                
                <div class="table-container">
                    <table id="dosageTable">
                        <thead>
                            <tr>
                                <th>PRODUCTO</th>
                                <th>SEM 1</th>
                                <th>SEM 2</th>
                                <th>SEM 3</th>
                                <th>SEM 4</th>
                                <th>SEM 5</th>
                                <th>SEM 6</th>
                                <th>SEM 7</th>
                                <th>SEM 8</th>
                                <th>SEM 9</th>
                                <th>SEM 10</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- Filas de la tabla se generan dinámicamente -->
                        </tbody>
                    </table>
                </div>

                <div class="action-buttons">
                    <button id="saveTableBtn" class="btn glow-btn">
                        <i class="fas fa-save"></i> GUARDAR
                    </button>
                    <button id="createNewTableBtn" class="btn">
                        <i class="fas fa-plus-circle"></i> NUEVA TABLA
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para añadir producto personalizado -->
    <div id="customProductModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-plus-circle"></i> AÑADIR PRODUCTO PERSONALIZADO</h2>
                <span class="close"><i class="fas fa-times"></i></span>
            </div>
            <div class="input-group">
                <i class="fas fa-tag"></i>
                <input type="text" id="customProductName" placeholder="Nombre del producto" required>
            </div>
            <div class="input-group">
                <i class="fas fa-list"></i>
                <select id="customProductCategory">
                    <option value="">Selecciona categoría</option>
                    <option value="abono">Abono Base</option>
                    <option value="azucar">Azúcares</option>
                    <option value="estimulador">Estimulador</option>
                    <option value="tamano">Aumenta Tamaño</option>
                </select>
            </div>
            <button id="saveCustomProductBtn" class="btn glow-btn">
                <i class="fas fa-check-circle"></i> AÑADIR PRODUCTO
            </button>
        </div>
    </div>
    
    <!-- Modal para tablas guardadas -->
    <div id="savedTablesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-database"></i> MIS TABLAS GUARDADAS</h2>
                <span class="close"><i class="fas fa-times"></i></span>
            </div>
            <div id="savedTablesList" class="saved-tables">
                <!-- Las tablas guardadas se mostrarán aquí -->
            </div>
        </div>
    </div>

    <!-- Modal para editar tabla -->
    <div id="editTableModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-edit"></i> EDITAR TABLA</h2>
                <span class="close"><i class="fas fa-times"></i></span>
            </div>
            <div class="input-group table-name">
                <i class="fas fa-tag"></i>
                <input type="text" id="editTableNameInput" placeholder="Nombre de tu tabla" required>
            </div>
            
            <div class="table-container">
                <table id="editDosageTable">
                    <thead>
                        <tr>
                            <th>PRODUCTO</th>
                            <th>SEM 1</th>
                            <th>SEM 2</th>
                            <th>SEM 3</th>
                            <th>SEM 4</th>
                            <th>SEM 5</th>
                            <th>SEM 6</th>
                            <th>SEM 7</th>
                            <th>SEM 8</th>
                            <th>SEM 9</th>
                            <th>SEM 10</th>
                        </tr>
                    </thead>
                    <tbody id="editTableBody">
                        <!-- Filas de la tabla se generan dinámicamente -->
                    </tbody>
                </table>
            </div>

            <div class="action-buttons">
                <button id="updateTableBtn" class="btn glow-btn">
                    <i class="fas fa-save"></i> GUARDAR CAMBIOS
                </button>
                <button id="cancelEditBtn" class="btn">
                    <i class="fas fa-times"></i> CANCELAR
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para ver tabla -->
    <div id="viewTableModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-table"></i> <span id="viewTableName"></span></h2>
                <span class="close"><i class="fas fa-times"></i></span>
            </div>
            <div class="modal-subheader">
                <span>Creada por: <b id="viewTableAuthor"></b></span>
            </div>
            <div class="table-container">
                <table id="viewDosageTable">
                    <thead>
                        <tr>
                            <th>PRODUCTO</th>
                            <th>SEM 1</th>
                            <th>SEM 2</th>
                            <th>SEM 3</th>
                            <th>SEM 4</th>
                            <th>SEM 5</th>
                            <th>SEM 6</th>
                            <th>SEM 7</th>
                            <th>SEM 8</th>
                            <th>SEM 9</th>
                            <th>SEM 10</th>
                        </tr>
                    </thead>
                    <tbody id="viewTableBody">
                        <!-- Filas de la tabla se generan dinámicamente -->
                    </tbody>
                </table>
            </div>
            <div class="action-buttons">
                <button id="copyToMyTablesBtn" class="btn glow-btn">
                    <i class="fas fa-copy"></i> COPIAR A MIS TABLAS
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para tablas públicas -->
    <div id="publicTablesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-globe"></i> TABLAS PÚBLICAS</h2>
                <span class="close"><i class="fas fa-times"></i></span>
            </div>
            <div id="publicTablesList" class="saved-tables">
                <!-- Las tablas públicas se mostrarán aquí -->
            </div>
        </div>
    </div>

    <!-- Sistema de notificaciones -->
    <div id="notification" class="notification">
        <i class="fas fa-info-circle"></i>
        <span id="notificationText"></span>
    </div>

    <!-- Loader -->
    <div id="loader" class="loader hidden">
        <div></div>
    </div>

    <!-- Script -->
    <script src="script.js"></script>
</body>
</html>